(this.webpackJsonpamrgl=this.webpackJsonpamrgl||[]).push([[0],{237:function(e,t,a){},263:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){"use strict";a.r(t);var n=a(13),i=a(5),o=a.n(i),r=a(74),s=a.n(r),l=(a(263),a(31)),c=a(92),d=a(314),b=a(321),m=a(242),u=a.n(m),j=a(246),p=a.n(j),h=a(241),x=a.n(h),g=a(245),O=a.n(g),f=a(243),y=a.n(f),w=a(247),N=a.n(w),z=a(318),v=a(279),C=a(324),k=a(325),I=a(280),P=a(327),B=a(54),D=a(22),R=a(37),F=a(320),A=a(319),M=a(114),S=a.n(M),E=a(329),L=a(322),V=a(239),T=a.n(V),Y=Object(d.a)((function(e){return{sliderroot:{width:100+2*e.spacing(3)},slidermargin:{height:e.spacing(2)},margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textField:{width:"12ch",background:"white",borderRadius:8,opacity:.8}}})),G=Object(R.a)({root:{color:"red",height:4},thumb:{height:20,width:20,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(E.a),_=Object(R.a)({root:{color:"green",height:4},thumb:{height:20,width:20,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(E.a),X=Object(R.a)({root:{color:"blue",height:4},thumb:{height:20,width:20,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(E.a),H=function(e){var t,a=Y(),i=o.a.useState({planesize:6e3,gridsize:50,gridChange:!1,lightR:.45,lightG:.45,lightB:.45}),r=Object(c.a)(i,2),s=r[0],d=r[1],m=function(e){return function(t){var a;d(Object(l.a)(Object(l.a)({},s),{},(a={},Object(B.a)(a,e,t.target.value),Object(B.a)(a,"gridChange",!1),a)))}},u=function(e){return function(t,a){var n;d(Object(l.a)(Object(l.a)({},s),{},(n={},Object(B.a)(n,e,a),Object(B.a)(n,"gridChange",!1),n)))}};return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)("div",{children:Object(n.jsxs)(z.a,{container:!0,direction:"row",alignItems:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-planesize",variant:"filled",color:"secondary",label:"plane size",type:"number",defaultValue:s.planesize,onChange:m("planesize"),className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"inch"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-gridsize",variant:"filled",color:"secondary",label:"grid size",type:"number",onChange:m("gridsize"),defaultValue:s.gridsize,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"inch"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm grid",onClick:function(){d(Object(l.a)(Object(l.a)({},s),{},{gridChange:!0})),e.onChange&&e.onChange(s)}},Object(B.a)(t,"color",s.gridChange?"primary":"default"),Object(B.a)(t,"children",Object(n.jsx)(S.a,{})),t))})]})}),Object(n.jsx)(z.a,{container:!0,direction:"row",alignItems:"left",children:Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)("div",{className:a.sliderroot,children:[Object(n.jsx)("div",{className:a.slidermargin}),Object(n.jsxs)(L.a,{size:"small",disabled:!0,style:{color:"black"},children:[" Background ",Object(n.jsx)(T.a,{fontSize:"large"})]}),Object(n.jsx)("div",{className:a.slidermargin}),Object(n.jsx)(G,{valueLabelDisplay:"auto","aria-label":"pretto slider 2",defaultValue:.45,min:0,max:1,step:.01,onChange:u("lightR")}),Object(n.jsx)("div",{className:a.slidermargin}),Object(n.jsx)(X,{valueLabelDisplay:"auto","aria-label":"pretto slider 3",defaultValue:.45,min:0,max:1,step:.01,onChange:u("lightB")}),Object(n.jsx)("div",{className:a.slidermargin}),Object(n.jsx)(_,{valueLabelDisplay:"auto","aria-label":"pretto slider 4",defaultValue:.45,min:0,max:1,step:.01,onChange:u("lightG")})]})})}),Object(n.jsx)("div",{})]})},q=a(44),J=a.n(q),U=(Object(d.a)((function(e){return{margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textField:{width:"30ch",background:"white",borderRadius:8,opacity:.8}}})),a(283)),Z=a(281),W=(a(155),Object(d.a)((function(e){return{margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textFieldtop:{width:"32ch",background:"white",borderRadius:8,opacity:.8},textField:{width:"16ch",background:"white",borderRadius:8,opacity:.8}}}))),K=function(e){var t,a=W(),i=o.a.useState({builtintype:"",builtinname:"",builtinnew:!1,positionx:0,positiony:0,positionz:0,scalex:1,scaley:1,scalez:1,rotationx:0,rotationy:0,rotationz:0}),r=Object(c.a)(i,2),s=r[0],d=r[1],m=function(e){return function(t){var a;d(Object(l.a)(Object(l.a)({},s),{},(a={},Object(B.a)(a,e,t.target.value),Object(B.a)(a,"builtinnew",!1),a)))}};return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:a.margin}),Object(n.jsx)(z.a,{container:!0,direction:"row",alignItems:"center",children:Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(v.a,{size:"small",variant:"filled",className:a.textFieldtop,children:[Object(n.jsx)(U.a,{htmlFor:"filled-age-native-simple",children:"+ Models (All Fields Required)"}),Object(n.jsxs)(Z.a,{native:!0,value:s.builtintype,onChange:function(e){var t,a=e.target.name;e.target.value;d(Object(l.a)(Object(l.a)({},s),{},(t={},Object(B.a)(t,a,e.target.value),Object(B.a)(t,"builtinnew",!1),t)))},inputProps:{name:"builtintype",id:"filled-builtins-native-simple"},children:[Object(n.jsx)("option",{"aria-label":"None",value:""}),Object(n.jsxs)("optgroup",{label:"Base",children:[Object(n.jsx)("option",{value:"Wall_100x100x10",children:"Wall 100x100x10"}),Object(n.jsx)("option",{value:"Floor_1000x1x1000",children:"Floor 1000x1x1000"})]}),Object(n.jsx)("optgroup",{label:"Shelf System",children:Object(n.jsx)("option",{value:"Storage_Shelf_100x150x40",children:"Storage Shelf 100x150x40"})})]})]})})}),Object(n.jsx)("div",{children:Object(n.jsxs)(z.a,{container:!0,direction:"row",alignItems:"left",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"left",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-name",variant:"filled",color:"secondary",label:"object name",type:"string",onChange:m("builtinname"),className:Object(D.a)(a.margin,a.textField),InputProps:{}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"center position",type:"number",defaultValue:s.positionx,onChange:m("positionx"),className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"X:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positiony"),defaultValue:s.positiony,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Y:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positionz"),defaultValue:s.positionz,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Z:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"rotation-x (degree)",type:"number",defaultValue:s.rotationx,onChange:m("rotationx"),className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"X:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"rotation-y (degree)",type:"number",onChange:m("rotationy"),defaultValue:s.rotationy,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Y:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"rotation-z (degree)",type:"number",onChange:m("rotationz"),defaultValue:s.rotationz,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Z:"})}})})]})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"left",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"scale-x",type:"number",defaultValue:s.scalex,onChange:m("scalex"),className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"X:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"scale-y",type:"number",onChange:m("scaley"),defaultValue:s.scaley,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Y:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"scale-z",type:"number",onChange:m("scalez"),defaultValue:s.scalez,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Z:"})}})}),Object(n.jsx)("div",{className:a.margin}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm grid",onClick:function(){s.builtinname?(d(Object(l.a)(Object(l.a)({},s),{},{builtinnew:!0})),e.onChange&&e.onChange(s)):J.a.fire({background:"black",icon:"info",text:"Please assign a name for your object"})}},Object(B.a)(t,"color",s.builtinnew?"primary":"default"),Object(B.a)(t,"children",Object(n.jsx)(S.a,{})),t))})]})})]})})]})},$=a(144),Q=a.n($),ee=a(184),te=(a(276),a(29)),ae=a(222),ne=a(248),ie=function(e){var t=Object(i.useRef)(null),a=e.antialias,o=e.engineOptions,r=e.adaptToDeviceRatio,s=e.sceneOptions,c=e.onRender,d=(e.onSceneReady,Object(ne.a)(e,["antialias","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","onSceneReady"])),b=window.innerWidth,m=window.innerHeight;return Object(i.useEffect)((function(){if(t.current){var n=new te.c(t.current,a,o,r,{stencil:!0}),i=new te.j(n,s);i.clearColor=new te.b(.45,.45,.45),n.setSize(b,m),i.isReady()?e.onSceneReady(i):i.onReadyObservable.addOnce((function(t){return e.onSceneReady(t)})),n.runRenderLoop((function(){"function"===typeof c&&c(i),i.render()}));var l=function(){var e=window.innerWidth,t=window.innerHeight;n.setSize(e,t),i.getEngine().resize()};return window&&window.addEventListener("resize",l),function(){i.getEngine().dispose(),window&&window.removeEventListener("resize",l)}}}),[t]),Object(n.jsx)("canvas",Object(l.a)({ref:t},d))},oe=(a(272),null),re=null,se=null,le=null;function ce(e){return e*(Math.PI/180)}var de=function(e){var t=e.settingData,a=e.setSettings,i=e.addData,r=e.setAdd,s=e.fileControl,c=e.setFileControl,d=e.libraryData,b=e.setBuiltin,m=e.externalData,u=e.setExternal,j=e.assetManagerData,p=(e.setAssetManager,o.a.useRef(null));o.a.useEffect((function(){var e=p.current;if(e){if(oe?(oe.attachedMesh=null,oe.dispose(),re.dispose(),se.dispose(),le.dispose(),se=new te.m(e),oe=new te.h(se),re=new te.i(se),le=new te.e(e)):(se=new te.m(e),oe=new te.h(se),re=new te.i(se),le=new te.e(e)),oe.attachedMesh=null,oe.updateGizmoRotationToMatchAttachedMesh=!1,oe.updateGizmoPositionToMatchAttachedMesh=!0,re.updateGizmoRotationToMatchAttachedMesh=!1,re.updateGizmoPositionToMatchAttachedMesh=!0,e.onPointerDown=function(t,a){a.hit?(console.log(j),console.log(a.pickedMesh.name),console.log("current scene meshes:",e.meshes.length),le.removeAllMeshes(),a.pickedMesh.parent&&j.switchtoparent?(console.log(a.pickedMesh.parent.getChildMeshes()),oe.attachedMesh=a.pickedMesh.parent,re.attachedMesh=a.pickedMesh.parent):(oe.attachedMesh=a.pickedMesh,re.attachedMesh=a.pickedMesh,le.addMesh(a.pickedMesh,te.b.Magenta()))):(oe.attachedMesh=null,re.attachedMesh=null,le.removeAllMeshes())},t.gridChange){console.log("grid change request"),e.clearColor=new te.b(t.lightR,t.lightG,t.lightB);var n=e.getMeshByID("plane"),o=e.getMaterialByID("groundMaterial");if(n._width!=t.planesize||o.gridRatio!=t.gridsize){n.dispose(),o.dispose();var h=te.g.CreateGround("plane",{width:t.planesize,height:t.planesize},e),x=new ae.a("groundMaterial",e);x.majorUnitFrequency=10,x.minorUnitVisibility=.5,x.gridRatio=t.gridsize,x.backFaceCulling=!1,x.mainColor=new te.b(1,1,1),x.lineColor=new te.b(1,1,1),x.opacity=.98,h.material=x,h.isPickable=!1}a(Object(l.a)(Object(l.a)({},t),{},{gridChange:!1}))}if(s.fileadd){console.log(s.file);var g=new te.l;te.k.ImportMesh("","https://raw.githubusercontent.com/gamer-ai/amrgl/main/frontend/amrgl/src/assets/example/metal_shelf.obj","",e,(function(e){e.forEach((function(e){e.parent||(e.parent=g)})),g.scaling=new te.n(10,1,1),console.log(g)})),c(Object(l.a)(Object(l.a)({},s),{},{fileadd:!1}))}if(d.builtinnew)if(console.log("add new object from library request"),"Storage_Shelf_100x150x40"==d.builtintype){var O=e.getMeshByID(d.builtinname)||e.getNodeByID(d.builtinname);if(console.log(O),O)console.log("found exist!"),J.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+d.builtinname+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){J.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),O.dispose();var a=new te.l;te.k.ImportMesh("","https://raw.githubusercontent.com/gamer-ai/amrgl/main/frontend/amrgl/src/assets/example/metal_shelf.obj","",e,(function(e){e.forEach((function(e){e.parent||(e.parent=a)})),a.id=d.builtinname,a.position=new te.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),a.scaling=new te.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),a.rotation=new te.n(ce(Number(d.rotationx)),ce(Number(d.rotationy)),ce(Number(d.rotationz)))})),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}else t.isDenied&&J.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{console.log("imported new mesh!");var f=new te.l;te.k.ImportMesh("","https://raw.githubusercontent.com/gamer-ai/amrgl/main/frontend/amrgl/src/assets/example/metal_shelf.obj","",e,(function(e){e.forEach((function(e){e.parent||(e.parent=f)})),f.id=d.builtinname,f.position=new te.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),f.scaling=new te.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),f.rotation=new te.n(ce(Number(d.rotationx)),ce(Number(d.rotationy)),ce(Number(d.rotationz)))})),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}}else if("Wall_100x100x10"==d.builtintype){console.log("wall imported");var y=e.getMeshByID(d.builtinname)||e.getNodeByID(d.builtinname);if(y)console.log("found exist!"),J.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+d.builtinname+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){J.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),y.dispose();var a=te.g.CreateBox(d.builtinname,{width:100,height:100,depth:10},e);a.position=new te.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),a.scaling=new te.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),a.rotation=new te.n(ce(Number(d.rotationx)),ce(Number(d.rotationy)),ce(Number(d.rotationz))),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}else t.isDenied&&J.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{console.log("imported new mesh!");var w=te.g.CreateBox(d.builtinname,{width:100,height:100,depth:10},e);w.position=new te.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),w.scaling=new te.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),w.rotation=new te.n(ce(Number(d.rotationx)),ce(Number(d.rotationy)),ce(Number(d.rotationz))),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}}else if("Floor_1000x1x1000"==d.builtintype){console.log("floor imported");var N=e.getMeshByID(d.builtinname)||e.getNodeByID(d.builtinname);if(N)console.log("found exist!"),J.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+d.builtinname+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){J.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),N.dispose();var a=te.g.CreateBox(d.builtinname,{width:1e3,height:1,depth:1e3},e);a.position=new te.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),a.scaling=new te.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),a.rotation=new te.n(ce(Number(d.rotationx)),ce(Number(d.rotationy)),ce(Number(d.rotationz))),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}else t.isDenied&&J.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{console.log("imported new mesh!");var z=te.g.CreateBox(d.builtinname,{width:1e3,height:1,depth:1e3},e);z.position=new te.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),z.scaling=new te.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),z.rotation=new te.n(ce(Number(d.rotationx)),ce(Number(d.rotationy)),ce(Number(d.rotationz))),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}}else console.log("nothing selected");if(m.externalnew){var v=e.getMeshByID(m.externalname)||e.getNodeByID(m.externalname);if(console.log(v),v)console.log("found exist!"),J.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+m.externalname+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){J.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),v.dispose();var a=new te.l;J.a.fire({text:"loading ...",background:"black",onBeforeOpen:function(){J.a.showLoading()},onAfterClose:function(){J.a.hideLoading()},allowOutsideClick:!1,showConfirmButton:!1,allowEscapeKey:!1,allowEnterKey:!1}),te.k.ImportMeshAsync("",m.externalurl,"",e).then(function(){var e=Object(ee.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.meshes.map((function(e){e.parent||(e.parent=a)})));case 2:a.id=m.externalname,a.position=new te.n(Number(m.positionx),Number(m.positiony),Number(m.positionz)),a.scaling=new te.n(Number(m.scalex),Number(m.scaley),Number(m.scalez)),a.rotation=new te.n(ce(Number(m.rotationx)),ce(Number(m.rotationy)),ce(Number(m.rotationz)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){console.log("imported!"),u(Object(l.a)(Object(l.a)({},m),{},{externalnew:!1})),J.a.close()}))}else t.isDenied&&J.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{console.log("imported new mesh!"),J.a.fire({text:"loading ...",background:"black",onBeforeOpen:function(){J.a.showLoading()},onAfterClose:function(){J.a.hideLoading()},allowOutsideClick:!1,showConfirmButton:!1,allowEscapeKey:!1,allowEnterKey:!1});var C=new te.l;te.k.ImportMeshAsync("",m.externalurl,"",e).then(function(){var e=Object(ee.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("is loading now"),u(Object(l.a)(Object(l.a)({},m),{},{externalnew:!1})),e.next=4,Promise.all(t.meshes.map((function(e){e.parent||(e.parent=C)})));case 4:console.log("loading is done"),C.id=m.externalname,C.position=new te.n(Number(m.positionx),Number(m.positiony),Number(m.positionz)),C.scaling=new te.n(Number(m.scalex),Number(m.scaley),Number(m.scalez)),C.rotation=new te.n(ce(Number(m.rotationx)),ce(Number(m.rotationy)),ce(Number(m.rotationz)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){console.log("imported!"),u(Object(l.a)(Object(l.a)({},m),{},{externalnew:!1})),J.a.close()}))}}if(i.addnew)if(console.log("add new prime request"),"BOX"==i.primetype){var k=e.getMeshByID(i.primename)||e.getNodeByID(i.primename);if(k)J.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+i.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){J.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),k.dispose();var a=te.g.CreateBox(i.primename,{size:1},e);a.position=new te.n(Number(i.positionx),Number(i.positiony),Number(i.positionz)),a.scaling=new te.n(Number(i.scalex),Number(i.scaley),Number(i.scalez)),a.rotation=new te.n(ce(Number(i.rotationx)),ce(Number(i.rotationy)),ce(Number(i.rotationz))),r(Object(l.a)(Object(l.a)({},i),{},{addnew:!1}))}else t.isDenied&&J.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var I=te.g.CreateBox(i.primename,{size:1},e);I.isPickable=!0,I.position=new te.n(Number(i.positionx),Number(i.positiony),Number(i.positionz)),I.scaling=new te.n(Number(i.scalex),Number(i.scaley),Number(i.scalez)),I.rotation=new te.n(ce(Number(i.rotationx)),ce(Number(i.rotationy)),ce(Number(i.rotationz))),r(Object(l.a)(Object(l.a)({},i),{},{addnew:!1}))}}else if("SPHERE"==i.primetype){var P=e.getMeshByID(i.primename)||e.getNodeByID(i.primename);if(P)J.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+i.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){J.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),P.dispose();var a=te.g.CreateSphere(i.primename,{size:1},e);a.position=new te.n(Number(i.positionx),Number(i.positiony),Number(i.positionz)),a.scaling=new te.n(Number(i.scalex),Number(i.scaley),Number(i.scalez)),a.rotation=new te.n(ce(Number(i.rotationx)),ce(Number(i.rotationy)),ce(Number(i.rotationz))),r(Object(l.a)(Object(l.a)({},i),{},{addnew:!1}))}else t.isDenied&&J.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var B=te.g.CreateSphere(i.primename,{size:1},e);B.position=new te.n(Number(i.positionx),Number(i.positiony),Number(i.positionz)),B.scaling=new te.n(Number(i.scalex),Number(i.scaley),Number(i.scalez)),B.rotation=new te.n(ce(Number(i.rotationx)),ce(Number(i.rotationy)),ce(Number(i.rotationz))),r(Object(l.a)(Object(l.a)({},i),{},{addnew:!1}))}}else if("CYLINDER"==i.primetype){var D=e.getMeshByID(i.primename)||e.getNodeByID(i.primename);if(D)J.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+i.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){J.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),D.dispose();var a=te.g.CreateCylinder(i.primename,{size:1},e);a.position=new te.n(Number(i.positionx),Number(i.positiony),Number(i.positionz)),a.scaling=new te.n(Number(i.scalex),Number(i.scaley),Number(i.scalez)),a.rotation=new te.n(ce(Number(i.rotationx)),ce(Number(i.rotationy)),ce(Number(i.rotationz))),r(Object(l.a)(Object(l.a)({},i),{},{addnew:!1}))}else t.isDenied&&J.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var R=te.g.CreateCylinder(i.primename,{size:1},e);R.position=new te.n(Number(i.positionx),Number(i.positiony),Number(i.positionz)),R.scaling=new te.n(Number(i.scalex),Number(i.scaley),Number(i.scalez)),R.rotation=new te.n(ce(Number(i.rotationx)),ce(Number(i.rotationy)),ce(Number(i.rotationz))),r(Object(l.a)(Object(l.a)({},i),{},{addnew:!1}))}}else if("POLYHYDRON"==i.primetype){var F=e.getMeshByID(i.primename)||e.getNodeByID(i.primename);if(F)J.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+i.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){J.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),F.dispose();var a=te.f.CreatePolyhedron(i.primename,{type:i.polyhydrontype,size:1},e);a.position=new te.n(Number(i.positionx),Number(i.positiony),Number(i.positionz)),a.scaling=new te.n(Number(i.scalex),Number(i.scaley),Number(i.scalez)),a.rotation=new te.n(ce(Number(i.rotationx)),ce(Number(i.rotationy)),ce(Number(i.rotationz))),r(Object(l.a)(Object(l.a)({},i),{},{addnew:!1}))}else t.isDenied&&J.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var A=te.f.CreatePolyhedron(i.primename,{type:i.polyhydrontype,size:1},e);A.position=new te.n(Number(i.positionx),Number(i.positiony),Number(i.positionz)),A.scaling=new te.n(Number(i.scalex),Number(i.scaley),Number(i.scalez)),A.rotation=new te.n(ce(Number(i.rotationx)),ce(Number(i.rotationy)),ce(Number(i.rotationz))),r(Object(l.a)(Object(l.a)({},i),{},{addnew:!1}))}}}}),[t,i,s,d,m,j]);return Object(n.jsx)(ie,{antialias:!0,onSceneReady:function(e){p.current=e;var a=new te.a("mainCamera",0,0,10,new te.n(0,0,0),e);a.setPosition(new te.n(0,500,-600));var n=e.getEngine().getRenderingCanvas();a.attachControl(n,!0),new te.d("light",new te.n(0,500,0),e).intensity=.7;var i=te.g.CreateGround("plane",{width:t.planesize,height:t.planesize},e),o=new ae.a("groundMaterial",e);o.majorUnitFrequency=10,o.minorUnitVisibility=.5,o.gridRatio=t.gridsize,o.backFaceCulling=!1,o.mainColor=new te.b(1,1,1),o.lineColor=new te.b(1,1,1),o.opacity=.98,i.material=o,i.isPickable=!1},onRender:function(e){},id:"viewport"})},be=Object(d.a)((function(e){return{margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textFieldtop:{width:"32ch",background:"white",borderRadius:8,opacity:.8},textField:{width:"16ch",background:"white",borderRadius:8,opacity:.8}}})),me=function(e){var t,a=be(),i=o.a.useState({externaltype:"",externalname:"",externalurl:"",externalnew:!1,positionx:0,positiony:0,positionz:0,scalex:100,scaley:100,scalez:100,rotationx:0,rotationy:0,rotationz:0}),r=Object(c.a)(i,2),s=r[0],d=r[1],m=function(e){return function(t){var a;d(Object(l.a)(Object(l.a)({},s),{},(a={},Object(B.a)(a,e,t.target.value),Object(B.a)(a,"externalnew",!1),a)))}};return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:a.margin}),Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"left",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(v.a,{size:"small",variant:"filled",className:a.textFieldtop,children:[Object(n.jsx)(U.a,{htmlFor:"filled-age-native-simple",children:"+ Import Source"}),Object(n.jsxs)(Z.a,{native:!0,value:s.externaltype,onChange:function(e){var t,a=e.target.name;e.target.value;d(Object(l.a)(Object(l.a)({},s),{},(t={},Object(B.a)(t,a,e.target.value),Object(B.a)(t,"externalnew",!1),t)))},inputProps:{name:"externaltype",id:"filled-externals-native-simple"},children:[Object(n.jsx)("option",{"aria-label":"None",value:""}),Object(n.jsx)("option",{value:"URL",children:" External URL "}),Object(n.jsx)("option",{value:"LOCAL",children:" Local File "})]})]})}),"URL"===s.externaltype&&Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-name",variant:"filled",color:"secondary",label:"Paste URL below:",type:"string",onChange:m("externalurl"),className:Object(D.a)(a.margin,a.textFieldtop),InputProps:{}})}),"LOCAL"===s.externaltype&&Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-planesize",variant:"outlined",color:"secondary",type:"file",defaultValue:s.externalurl.name,onChange:function(e){d(Object(l.a)(Object(l.a)({},s),{},{externalurl:e.target.files[0],externalnew:!1}))},className:Object(D.a)(a.margin,a.textFieldtop),InputProps:{}})})]}),Object(n.jsx)("div",{children:Object(n.jsxs)(z.a,{container:!0,direction:"row",alignItems:"left",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"left",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-name",variant:"filled",color:"secondary",label:"object name",type:"string",onChange:m("externalname"),className:Object(D.a)(a.margin,a.textField),InputProps:{}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"center position",type:"number",defaultValue:s.positionx,onChange:m("positionx"),className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"X:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positiony"),defaultValue:s.positiony,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Y:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positionz"),defaultValue:s.positionz,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Z:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"rotation-x (degree)",type:"number",defaultValue:s.rotationx,onChange:m("rotationx"),className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"X:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"rotation-y (degree)",type:"number",onChange:m("rotationy"),defaultValue:s.rotationy,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Y:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"rotation-z (degree)",type:"number",onChange:m("rotationz"),defaultValue:s.rotationz,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Z:"})}})})]})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"left",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"scale-x",type:"number",defaultValue:s.scalex,onChange:m("scalex"),className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"X:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"scale-y",type:"number",onChange:m("scaley"),defaultValue:s.scaley,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Y:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"scale-z",type:"number",onChange:m("scalez"),defaultValue:s.scalez,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Z:"})}})}),Object(n.jsx)("div",{className:a.margin}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm grid",onClick:function(){s.externalname?(d(Object(l.a)(Object(l.a)({},s),{},{externalnew:!0})),e.onChange&&e.onChange(s)):J.a.fire({background:"black",icon:"info",text:"Please assign a name for your object"})}},Object(B.a)(t,"color",s.externalnew?"primary":"default"),Object(B.a)(t,"children",Object(n.jsx)(S.a,{})),t))})]})})]})})]})},ue=(a(237),a(323)),je=Object(d.a)((function(e){return{root:{width:"fit-content",border:"1px solid ".concat(e.palette.divider),backgroundColor:e.palette.background.paper,color:e.palette.text.secondary,"& svg":{margin:e.spacing(1.5)},"& hr":{margin:e.spacing(0,.5)}}}})),pe=function(e){var t=je();return Object(n.jsx)("div",{children:Object(n.jsxs)(z.a,{container:!0,alignItems:"left",className:t.root,children:["plane:",Object(n.jsx)(ue.a,{orientation:"vertical",flexItem:!0}),e.children.planesize,Object(n.jsx)(ue.a,{orientation:"vertical",flexItem:!0}),"grid:",Object(n.jsx)(ue.a,{orientation:"vertical",flexItem:!0}),e.children.gridsize]})})},he=Object(d.a)((function(e){return{margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textFieldtop:{width:"32ch",background:"white",borderRadius:8,opacity:.8},textField:{width:"16ch",background:"white",borderRadius:8,opacity:.8}}})),xe=function(e){var t,a=he(),i=o.a.useState({primetype:"",primename:"",polyhydrontype:null,addnew:!1,positionx:0,positiony:0,positionz:0,scalex:100,scaley:100,scalez:100,rotationx:0,rotationy:0,rotationz:0}),r=Object(c.a)(i,2),s=r[0],d=r[1],m=function(e){return function(t){var a;d(Object(l.a)(Object(l.a)({},s),{},(a={},Object(B.a)(a,e,t.target.value),Object(B.a)(a,"addnew",!1),a)))}};return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:a.margin}),Object(n.jsx)(z.a,{container:!0,direction:"row",alignItems:"center",children:Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(v.a,{size:"small",variant:"filled",className:a.textFieldtop,children:[Object(n.jsx)(U.a,{htmlFor:"filled-age-native-simple",children:"+ Primes (All Fields Required)"}),Object(n.jsxs)(Z.a,{native:!0,value:s.primetype,onChange:function(e){var t,a=e.target.name,n=e.target.value;"POLYHYDRON"==e.target.value?Object(ee.a)(Q.a.mark((function e(){var t,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("selected Polyhydron, now choose type"),e.next=3,J.a.fire({position:"top",background:"black",input:"select",inputOptions:{Polyhydrons:{0:"Tetrahedron",1:"Octahedron",2:"Dodecahedron",3:"Icosahedron",4:"Rhombicuboctahedron",5:"Triangular Prism",6:"Pentagonal Prism",7:"HexagonalPrism",8:"Square Pyramid (J1)",9:"Pentagonal Pyramid (J2)",10:"Triangular Dipyramid (J12)",11:"Pentagonal Dipyramid (J13)",12:"Elongated Square Dipyramid (J15)",13:"Elongated Pentagonal Dipyramid (J16)",14:"Elongated Pentagonal Cupola (J20)"}},inputPlaceholder:"Select a Polyhydron",showCancelButton:!0,inputValidator:function(e){return new Promise((function(e){e()}))}});case 3:t=e.sent,(a=t.value)&&(J.a.fire({background:"black",icon:"success",text:"Selected",showConfirmButton:!1,timer:1500}),d(Object(l.a)(Object(l.a)({},s),{},{primetype:n,polyhydrontype:a,addnew:!1})));case 6:case"end":return e.stop()}}),e)})))():d(Object(l.a)(Object(l.a)({},s),{},(t={},Object(B.a)(t,a,e.target.value),Object(B.a)(t,"polyhydrontype",null),Object(B.a)(t,"addnew",!1),t)))},inputProps:{name:"primetype",id:"filled-primes-native-simple"},children:[Object(n.jsx)("option",{"aria-label":"None",value:""}),Object(n.jsx)("option",{value:"BOX",children:"BOX"}),Object(n.jsx)("option",{value:"SPHERE",children:"SPHERE"}),Object(n.jsx)("option",{value:"CYLINDER",children:"CYLINDER"}),Object(n.jsx)("option",{value:"POLYHYDRON",children:"POLYHYDRON"})]})]})})}),Object(n.jsx)("div",{children:Object(n.jsxs)(z.a,{container:!0,direction:"row",alignItems:"left",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"left",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-name",variant:"filled",color:"secondary",label:"object name",type:"string",onChange:m("primename"),className:Object(D.a)(a.margin,a.textField),InputProps:{}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"center position",type:"number",defaultValue:s.positionx,onChange:m("positionx"),className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"X:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positiony"),defaultValue:s.positiony,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Y:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positionz"),defaultValue:s.positionz,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Z:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"rotation-x (degree)",type:"number",defaultValue:s.rotationx,onChange:m("rotationx"),className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"X:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"rotation-y (degree)",type:"number",onChange:m("rotationy"),defaultValue:s.rotationy,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Y:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"rotation-z (degree)",type:"number",onChange:m("rotationz"),defaultValue:s.rotationz,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Z:"})}})})]})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"left",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"scale-x",type:"number",defaultValue:s.scalex,onChange:m("scalex"),className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"X:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"scale-y",type:"number",onChange:m("scaley"),defaultValue:s.scaley,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Y:"})}})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(A.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"scale-z",type:"number",onChange:m("scalez"),defaultValue:s.scalez,className:Object(D.a)(a.margin,a.textField),InputProps:{startAdornment:Object(n.jsx)(F.a,{position:"start",children:"Z:"})}})}),Object(n.jsx)("div",{className:a.margin}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm grid",onClick:function(){s.primename?(d(Object(l.a)(Object(l.a)({},s),{},{addnew:!0})),e.onChange&&e.onChange(s)):J.a.fire({background:"black",icon:"info",text:"Please assign a name for your object"})}},Object(B.a)(t,"color",s.addnew?"primary":"default"),Object(B.a)(t,"children",Object(n.jsx)(S.a,{})),t))})]})})]})})]})},ge=a(240),Oe=a(244),fe=Object(d.a)((function(e){return{root:{"& > *":{marginRight:e.spacing(2),fontsize:12}},extendedIcon:{marginRight:e.spacing(2)}}}));function ye(){var e=fe(),t=o.a.useState({planesize:6e3,gridsize:50,gridChange:!1,confirmed:!1,lightR:.45,lightG:.45,lightB:.45}),a=Object(c.a)(t,2),i=a[0],r=a[1],s=o.a.useState({primetype:"",primename:"",addnew:!1,positionx:0,positiony:0,positionz:0,scalex:100,scaley:100,scalez:100,rotationx:0,rotationy:0,rotationz:0}),d=Object(c.a)(s,2),m=d[0],j=d[1],h=o.a.useState({buultintype:"",builtinname:"",builtinnew:!1,positionx:0,positiony:0,positionz:0,scalex:1,scaley:1,scalez:1,rotationx:0,rotationy:0,rotationz:0}),g=Object(c.a)(h,2),f=g[0],w=g[1],B=o.a.useState({externaltype:"",externalname:"",externalurl:"",externalnew:!1,positionx:0,positiony:0,positionz:0,scalex:100,scaley:100,scalez:100,rotationx:0,rotationy:0,rotationz:0}),D=Object(c.a)(B,2),R=D[0],F=D[1],A=o.a.useState({file:"",fileadd:!1}),M=Object(c.a)(A,2),S=M[0],E=M[1],L=o.a.useState({showAdd:!1,showSettings:!1,showEdit:!1,showImport:!1,showLibrary:!1}),V=Object(c.a)(L,2),T=V[0],Y=V[1],G=o.a.useState({showAssetManager:!0,switchtoparent:!1}),_=Object(c.a)(G,2),X=_[0],q=_[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:e.root,children:Object(n.jsxs)("div",{className:"Navigation",children:[Object(n.jsx)(b.a,{size:"small",color:T.showSettings?"primary":"default",onClick:function(){Y({showImport:!1,showEdit:!1,showAdd:!1,showLibrary:!1,showSettings:!T.showSettings})},children:Object(n.jsx)(x.a,{"aria-label":"setting"})}),Object(n.jsx)(b.a,{size:"small","aria-label":"add",color:T.showAdd?"primary":"default",onClick:function(){Y({showImport:!1,showEdit:!1,showLibrary:!1,showAdd:!T.showAdd,showSettings:!1})},children:Object(n.jsx)(u.a,{})}),Object(n.jsx)(b.a,{size:"small","aria-label":"add",color:T.showLibrary?"primary":"default",onClick:function(){Y({showEdit:!1,showAdd:!1,showLibrary:!T.showLibrary,showSettings:!1,showImport:!1})},children:Object(n.jsx)(y.a,{})}),Object(n.jsx)(b.a,{size:"small","aria-label":"import",color:T.showImport?"primary":"default",onClick:function(){Y({showEdit:!1,showAdd:!1,showLibrary:!1,showSettings:!1,showImport:!T.showImport})},children:Object(n.jsx)(ge.a,{icon:Oe.a,size:"lg"})}),Object(n.jsx)(b.a,{size:"small","aria-label":"download",children:Object(n.jsx)(O.a,{})}),T.showSettings&&Object(n.jsx)("div",{className:"SettingTable",children:Object(n.jsx)(H,{onChange:function(e){e.planesize!=i.planesize||e.gridsize!=i.gridsize||e.lightR!=i.lightR||e.lightB!=i.lightB||e.lightG!=i.lightG?(console.log("a grid change happened"),r(Object(l.a)(Object(l.a)({},e),{},{gridChange:!0}))):console.log("no change needed")}})}),T.showAdd&&Object(n.jsx)("div",{className:"AddTable",children:Object(n.jsx)(xe,{onChange:function(e){e.primetype==m.primetype&&e.primename==m.primename&&e.positionx==m.positionx&&e.positiony==m.positiony&&e.positionz==m.positionz&&e.scalex==m.scalex&&e.scalez==m.scalez&&e.scaley==m.scaley&&e.rotationx==m.rotationx&&e.rotationy==m.rotationy&&e.rotationz==m.rotationz||j(Object(l.a)(Object(l.a)({},e),{},{addnew:!0}))}})}),T.showImport&&Object(n.jsx)("div",{className:"UploadTable",children:Object(n.jsx)(me,{onChange:function(e){e.externaltype==R.externaltype&&e.externalname==R.externalname&&e.externalurl==R.externalurl&&e.positionx==R.positionx&&e.positiony==R.positiony&&e.positionz==R.positionz&&e.scalex==R.scalex&&e.scalez==R.scalez&&e.scaley==R.scaley&&e.rotationx==R.rotationx&&e.rotationy==R.rotationy&&e.rotationz==R.rotationz||F(Object(l.a)(Object(l.a)({},e),{},{externalnew:!0}))}})}),T.showLibrary&&Object(n.jsx)("div",{className:"LibraryTable",children:Object(n.jsx)(K,{onChange:function(e){e.builtintype==f.builtintype&&e.builtinname==f.builtinname&&e.positionx==f.positionx&&e.positiony==f.positiony&&e.positionz==f.positionz&&e.scalex==f.scalex&&e.scalez==f.scalez&&e.scaley==f.scaley&&e.rotationx==f.rotationx&&e.rotationy==f.rotationy&&e.rotationz==f.rotationz||w(Object(l.a)(Object(l.a)({},e),{},{builtinnew:!0}))}})})]})}),X.showAssetManager&&Object(n.jsx)("div",{className:"AssetManager",children:Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"left",children:[Object(n.jsxs)(z.a,{item:!0,children:[Object(n.jsx)(b.a,{size:"small","aria-label":"edit",children:Object(n.jsx)(p.a,{})}),Object(n.jsx)(b.a,{size:"small","aria-label":"delete",children:Object(n.jsx)(N.a,{})})]}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(v.a,{component:"fieldset",children:[Object(n.jsx)(I.a,{children:"Selection Mode"}),Object(n.jsx)(C.a,{children:Object(n.jsx)(k.a,{control:Object(n.jsx)(P.a,{checked:X.switchtoparent,onChange:function(){q(Object(l.a)(Object(l.a)({},X),{},{switchtoparent:!X.switchtoparent}))},name:"selection-mode"}),label:"select root"})})]})})]})}),Object(n.jsx)("div",{className:"BottomView",children:Object(n.jsx)(de,{settingData:i,setSettings:r,addData:m,setAdd:j,fileControl:S,setFileControl:E,libraryData:f,setBuiltin:w,externalData:R,setExternal:F,assetManagerData:X,setAssetManager:q})}),Object(n.jsx)("div",{className:"Scaleline",children:Object(n.jsx)(pe,{children:i})})]})}var we=a(223),Ne=a(328),ze=a(326);function ve(e){e.preventDefault(),window.open("https://www.muyangguo.xyz/","_blank")}function Ce(){return Object(n.jsxs)(Ne.a,{"aria-label":"breadcrumb",children:[Object(n.jsx)(we.a,{color:"textPrimary",children:"Prototype V1"}),Object(n.jsx)(ze.a,{color:"inherit",href:"https://www.muyangguo.xyz",onClick:ve,children:"@Muyang Guo"})]})}a(273);var ke=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(ye,{}),Object(n.jsx)("div",{className:"Footer",children:Object(n.jsx)(Ce,{})})]})};s.a.render(Object(n.jsx)(ke,{}),document.getElementById("root"))}},[[274,1,2]]]);
//# sourceMappingURL=main.15a5d60b.chunk.js.map
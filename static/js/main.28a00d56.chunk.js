(this.webpackJsonpamrgl=this.webpackJsonpamrgl||[]).push([[0],{235:function(e,t,a){},261:function(e,t,a){},269:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){"use strict";a.r(t);var i=a(15),n=a(5),o=a.n(n),r=a(72),s=a.n(r),l=(a(261),a(39)),c=a(103),d=a(303),b=a(312),m=a(241),u=a.n(m),j=a(244),p=a.n(j),h=a(240),g=a.n(h),x=a(246),O=a.n(x),f=a(242),y=a.n(f),w=a(245),v=a.n(w),z=a(65),N=a(27),C=a(40),k=a(311),I=a(319),P=a(138),R=a.n(P),S=a(307),D=a(318),B=a(313),F=a(237),A=a.n(F),M=Object(d.a)((function(e){return{sliderroot:{width:100+2*e.spacing(3)},slidermargin:{height:e.spacing(2)},margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textField:{width:"12ch",background:"white",borderRadius:8,opacity:.8}}})),E=Object(C.a)({root:{color:"red",height:4},thumb:{height:20,width:20,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(D.a),T=Object(C.a)({root:{color:"green",height:4},thumb:{height:20,width:20,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(D.a),V=Object(C.a)({root:{color:"blue",height:4},thumb:{height:20,width:20,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(D.a),L=function(e){var t,a=M(),n=o.a.useState({planesize:6e3,gridsize:50,gridChange:!1,lightR:.45,lightG:.45,lightB:.45}),r=Object(c.a)(n,2),s=r[0],d=r[1],m=function(e){return function(t){var a;d(Object(l.a)(Object(l.a)({},s),{},(a={},Object(z.a)(a,e,t.target.value),Object(z.a)(a,"gridChange",!1),a)))}},u=function(e){return function(t,a){var i;d(Object(l.a)(Object(l.a)({},s),{},(i={},Object(z.a)(i,e,a),Object(z.a)(i,"gridChange",!1),i)))}};return Object(i.jsxs)("div",{className:a.root,children:[Object(i.jsx)("div",{children:Object(i.jsxs)(S.a,{container:!0,direction:"row",alignItems:"center",children:[Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-planesize",variant:"filled",color:"secondary",label:"plane size",type:"number",defaultValue:s.planesize,onChange:m("planesize"),className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"inch"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-gridsize",variant:"filled",color:"secondary",label:"grid size",type:"number",onChange:m("gridsize"),defaultValue:s.gridsize,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"inch"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm grid",onClick:function(){d(Object(l.a)(Object(l.a)({},s),{},{gridChange:!0})),e.onChange&&e.onChange(s)}},Object(z.a)(t,"color",s.gridChange?"primary":"default"),Object(z.a)(t,"children",Object(i.jsx)(R.a,{})),t))})]})}),Object(i.jsx)(S.a,{container:!0,direction:"row",alignItems:"left",children:Object(i.jsx)(S.a,{item:!0,children:Object(i.jsxs)("div",{className:a.sliderroot,children:[Object(i.jsx)("div",{className:a.slidermargin}),Object(i.jsxs)(B.a,{size:"small",disabled:!0,style:{color:"black"},children:[" Background ",Object(i.jsx)(A.a,{fontSize:"large"})]}),Object(i.jsx)("div",{className:a.slidermargin}),Object(i.jsx)(E,{valueLabelDisplay:"auto","aria-label":"pretto slider 2",defaultValue:.45,min:0,max:1,step:.01,onChange:u("lightR")}),Object(i.jsx)("div",{className:a.slidermargin}),Object(i.jsx)(V,{valueLabelDisplay:"auto","aria-label":"pretto slider 3",defaultValue:.45,min:0,max:1,step:.01,onChange:u("lightB")}),Object(i.jsx)("div",{className:a.slidermargin}),Object(i.jsx)(T,{valueLabelDisplay:"auto","aria-label":"pretto slider 4",defaultValue:.45,min:0,max:1,step:.01,onChange:u("lightG")})]})})}),Object(i.jsx)("div",{})]})},Y=a(81),G=a.n(Y),H=Object(d.a)((function(e){return{margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textField:{width:"30ch",background:"white",borderRadius:8,opacity:.8}}})),q=function(e){var t,a=H(),n=o.a.useState({file:"",confirmUpload:!1}),r=Object(c.a)(n,2),s=r[0],d=r[1];return Object(i.jsx)("div",{className:a.root,children:Object(i.jsx)("div",{children:Object(i.jsxs)(S.a,{container:!0,direction:"column",alignItems:"left",children:[Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-planesize",variant:"outlined",color:"secondary",type:"file",defaultValue:s.file.name,onChange:function(e){d({file:e.target.files[0],confirmUpload:!1})},className:Object(N.a)(a.margin,a.textField)})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsxs)("div",{id:"upload-states-info",children:[Object(i.jsxs)("p",{children:["Filename: ",s.file.name]}),Object(i.jsxs)("p",{children:["File Size: ",s.file.size," bytes"]})]})}),Object(i.jsxs)(S.a,{item:!0,children:[Object(i.jsx)("div",{className:a.slidermargin}),Object(i.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm color",onClick:function(){d(Object(l.a)(Object(l.a)({},s),{},{confirmUpload:!0})),e.onChange&&e.onChange(s)}},Object(z.a)(t,"color",s.confirmUpload?"primary":"default"),Object(z.a)(t,"children",Object(i.jsx)(R.a,{})),t))]})]})})})},J=a(320),U=a(310),X=a(316),_=(a(168),Object(d.a)((function(e){return{margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textFieldtop:{width:"32ch",background:"white",borderRadius:8,opacity:.8},textField:{width:"16ch",background:"white",borderRadius:8,opacity:.8}}}))),Z=function(e){var t,a=_(),n=o.a.useState({builtintype:"",builtinname:"",builtinnew:!1,positionx:0,positiony:0,positionz:0,scalex:1,scaley:1,scalez:1,rotationx:0,rotationy:0,rotationz:0}),r=Object(c.a)(n,2),s=r[0],d=r[1],m=function(e){return function(t){var a;d(Object(l.a)(Object(l.a)({},s),{},(a={},Object(z.a)(a,e,t.target.value),Object(z.a)(a,"builtinnew",!1),a)))}};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:a.margin}),Object(i.jsx)(S.a,{container:!0,direction:"row",alignItems:"center",children:Object(i.jsx)(S.a,{item:!0,children:Object(i.jsxs)(U.a,{size:"small",variant:"filled",className:a.textFieldtop,children:[Object(i.jsx)(J.a,{htmlFor:"filled-age-native-simple",children:"+ Models (All Fields Required)"}),Object(i.jsxs)(X.a,{native:!0,value:s.builtintype,onChange:function(e){var t,a=e.target.name;e.target.value;d(Object(l.a)(Object(l.a)({},s),{},(t={},Object(z.a)(t,a,e.target.value),Object(z.a)(t,"builtinnew",!1),t)))},inputProps:{name:"builtintype",id:"filled-builtins-native-simple"},children:[Object(i.jsx)("option",{"aria-label":"None",value:""}),Object(i.jsxs)("optgroup",{label:"Base",children:[Object(i.jsx)("option",{value:"Wall",children:"Wall"}),Object(i.jsx)("option",{value:"Floor",children:"Floor"})]}),Object(i.jsx)("optgroup",{label:"Shelf System",children:Object(i.jsx)("option",{value:"Storage_Shelf_100x40x150",children:"Storage Shelf 100x40x150"})})]})]})})}),Object(i.jsx)("div",{children:Object(i.jsxs)(S.a,{container:!0,direction:"row",alignItems:"left",children:[Object(i.jsx)(S.a,{item:!0,children:Object(i.jsxs)(S.a,{container:!0,direction:"column",alignItems:"left",children:[Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-name",variant:"filled",color:"secondary",label:"object name",type:"string",onChange:m("builtinname"),className:Object(N.a)(a.margin,a.textField),InputProps:{}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"center position",type:"number",defaultValue:s.positionx,onChange:m("positionx"),className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positiony"),defaultValue:s.positiony,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positionz"),defaultValue:s.positionz,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Z:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"rotation-x (degree)",type:"number",defaultValue:s.rotationx,onChange:m("rotationx"),className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"rotation-y (degree)",type:"number",onChange:m("rotationy"),defaultValue:s.rotationy,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"rotation-z (degree)",type:"number",onChange:m("rotationz"),defaultValue:s.rotationz,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Z:"})}})})]})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsxs)(S.a,{container:!0,direction:"column",alignItems:"left",children:[Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"scale-x",type:"number",defaultValue:s.scalex,onChange:m("scalex"),className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"scale-y",type:"number",onChange:m("scaley"),defaultValue:s.scaley,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"scale-z",type:"number",onChange:m("scalez"),defaultValue:s.scalez,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Z:"})}})}),Object(i.jsx)("div",{className:a.margin}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm grid",onClick:function(){d(Object(l.a)(Object(l.a)({},s),{},{builtinnew:!0})),e.onChange&&e.onChange(s)}},Object(z.a)(t,"color",s.builtinnew?"primary":"default"),Object(z.a)(t,"children",Object(i.jsx)(R.a,{})),t))})]})})]})})]})},W=(a(274),a(37)),$=a(217),K=a(247),Q=function(e){var t=Object(n.useRef)(null),a=e.antialias,o=e.engineOptions,r=e.adaptToDeviceRatio,s=e.sceneOptions,c=e.onRender,d=(e.onSceneReady,Object(K.a)(e,["antialias","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","onSceneReady"])),b=window.innerWidth,m=window.innerHeight;return Object(n.useEffect)((function(){if(t.current){var i=new W.c(t.current,a,o,r,{stencil:!0}),n=new W.j(i,s);n.clearColor=new W.b(.45,.45,.45),i.setSize(b,m),n.isReady()?e.onSceneReady(n):n.onReadyObservable.addOnce((function(t){return e.onSceneReady(t)})),i.runRenderLoop((function(){"function"===typeof c&&c(n),n.render()}));var l=function(){var e=window.innerWidth,t=window.innerHeight;i.setSize(e,t),n.getEngine().resize()};return window&&window.addEventListener("resize",l),function(){n.getEngine().dispose(),window&&window.removeEventListener("resize",l)}}}),[t]),Object(i.jsx)("canvas",Object(l.a)({ref:t},d))},ee=(a(269),null),te=null,ae=null,ie=null;function ne(e){return e*(Math.PI/180)}var oe=function(e){var t=e.settingData,a=e.setSettings,n=e.addData,r=e.setAdd,s=e.fileControl,c=e.setFileControl,d=e.libraryData,b=e.setBuiltin,m=o.a.useRef(null);o.a.useEffect((function(){var e=m.current;if(e){if(ee?(ee.attachedMesh=null,ee.dispose(),te.dispose(),ae.dispose(),ie.dispose(),ae=new W.l(e),ee=new W.h(ae),te=new W.i(ae),ie=new W.e(e)):(ae=new W.l(e),ee=new W.h(ae),te=new W.i(ae),ie=new W.e(e)),ee.attachedMesh=null,ee.updateGizmoRotationToMatchAttachedMesh=!1,ee.updateGizmoPositionToMatchAttachedMesh=!0,te.updateGizmoRotationToMatchAttachedMesh=!1,te.updateGizmoPositionToMatchAttachedMesh=!0,e.onPointerDown=function(e,t){t.hit?(console.log(t.pickedMesh.name),ie.removeAllMeshes(),ee.attachedMesh=t.pickedMesh,te.attachedMesh=t.pickedMesh,ie.addMesh(t.pickedMesh,W.b.Magenta())):(ee.attachedMesh=null,te.attachedMesh=null,ie.removeAllMeshes())},t.gridChange){console.log("grid change request"),e.clearColor=new W.b(t.lightR,t.lightG,t.lightB);var i=e.getMeshByID("plane"),o=e.getMaterialByID("groundMaterial");if(i._width!=t.planesize||o.gridRatio!=t.gridsize){i.dispose(),o.dispose();var u=W.g.CreateGround("plane",{width:t.planesize,height:t.planesize},e),j=new $.a("groundMaterial",e);j.majorUnitFrequency=10,j.minorUnitVisibility=.5,j.gridRatio=t.gridsize,j.backFaceCulling=!1,j.mainColor=new W.b(1,1,1),j.lineColor=new W.b(1,1,1),j.opacity=.98,u.material=j,u.isPickable=!1}a(Object(l.a)(Object(l.a)({},t),{},{gridChange:!1}))}if(s.fileadd&&(console.log(s.file),W.k.ImportMesh("","https://raw.githubusercontent.com/gamer-ai/amrgl/main/frontend/amrgl/src/assets/example/metal_shelf.obj","",e,(function(e){console.log(e[1].name),console.log(e),e[1].scaling=new W.m(1,1,1)})),c(Object(l.a)(Object(l.a)({},s),{},{fileadd:!1}))),d.builtinnew&&(console.log("add new object from library request"),"Storage_Shelf_100x40x150"==d.builtintype)){var p=e.getMeshByID(d.builtinname);console.log(p),p?(console.log("found exist!"),G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+d.builtinname+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(e){e.isConfirmed?(G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),p.position=new W.m(Number(d.positionx),Number(d.positiony),Number(d.positionz)),p.scaling=new W.m(Number(d.scalex),Number(d.scaley),Number(d.scalez)),p.rotation=new W.m(ne(Number(d.rotationx)),ne(Number(d.rotationy)),ne(Number(d.rotationz))),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))):e.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}))):(console.log("imported new mesh!"),W.k.ImportMesh("","https://raw.githubusercontent.com/gamer-ai/amrgl/main/frontend/amrgl/src/assets/example/metal_shelf.obj","",e,(function(e){var t=e[1];t.id=d.builtinname,console.log(t.name),t.position=new W.m(Number(d.positionx),Number(d.positiony),Number(d.positionz)),t.scaling=new W.m(Number(d.scalex),Number(d.scaley),Number(d.scalez)),t.rotation=new W.m(ne(Number(d.rotationx)),ne(Number(d.rotationy)),ne(Number(d.rotationz)))})),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1})))}if(n.addnew)if(console.log("add new prime request"),"BOX"==n.primetype){var h=e.getMeshByID(n.primename);if(h)G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+n.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),h.dispose();var a=W.g.CreateBox(n.primename,{size:1},e);a.position=new W.m(Number(n.positionx),Number(n.positiony),Number(n.positionz)),a.scaling=new W.m(Number(n.scalex),Number(n.scaley),Number(n.scalez)),a.rotation=new W.m(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}else t.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var g=W.g.CreateBox(n.primename,{size:1},e);g.isPickable=!0,g.position=new W.m(Number(n.positionx),Number(n.positiony),Number(n.positionz)),g.scaling=new W.m(Number(n.scalex),Number(n.scaley),Number(n.scalez)),g.rotation=new W.m(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}}else if("SPHERE"==n.primetype){console.log("sphere");var x=e.getMeshByID(n.primename);if(x)G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+n.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),x.dispose();var a=W.g.CreateSphere(n.primename,{size:1},e);a.position=new W.m(Number(n.positionx),Number(n.positiony),Number(n.positionz)),a.scaling=new W.m(Number(n.scalex),Number(n.scaley),Number(n.scalez)),a.rotation=new W.m(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}else t.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var O=W.g.CreateSphere(n.primename,{size:1},e);O.position=new W.m(Number(n.positionx),Number(n.positiony),Number(n.positionz)),O.scaling=new W.m(Number(n.scalex),Number(n.scaley),Number(n.scalez)),O.rotation=new W.m(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}}else if("CYLINDER"==n.primetype){var f=e.getMeshByID(n.primename);if(f)G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+n.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),f.dispose();var a=W.g.CreateCylinder(n.primename,{size:1},e);a.position=new W.m(Number(n.positionx),Number(n.positiony),Number(n.positionz)),a.scaling=new W.m(Number(n.scalex),Number(n.scaley),Number(n.scalez)),a.rotation=new W.m(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}else t.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var y=W.g.CreateCylinder(n.primename,{size:1},e);y.position=new W.m(Number(n.positionx),Number(n.positiony),Number(n.positionz)),y.scaling=new W.m(Number(n.scalex),Number(n.scaley),Number(n.scalez)),y.rotation=new W.m(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}}else if("POLYHYDRON"==n.primetype){var w=e.getMeshByID(n.primename);if(w)G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+n.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),w.dispose();var a=W.f.CreatePolyhedron(n.primename,{type:n.polyhydrontype,size:1},e);a.position=new W.m(Number(n.positionx),Number(n.positiony),Number(n.positionz)),a.scaling=new W.m(Number(n.scalex),Number(n.scaley),Number(n.scalez)),a.rotation=new W.m(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}else t.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var v=W.f.CreatePolyhedron(n.primename,{type:n.polyhydrontype,size:1},e);v.position=new W.m(Number(n.positionx),Number(n.positiony),Number(n.positionz)),v.scaling=new W.m(Number(n.scalex),Number(n.scaley),Number(n.scalez)),v.rotation=new W.m(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}}}}),[t,n,s,d]);return Object(i.jsx)(Q,{antialias:!0,onSceneReady:function(e){m.current=e;var a=new W.a("mainCamera",0,0,10,new W.m(0,0,0),e);a.setPosition(new W.m(0,500,-600));var i=e.getEngine().getRenderingCanvas();a.attachControl(i,!0),new W.d("light",new W.m(0,500,0),e).intensity=.7;var n=W.g.CreateGround("plane",{width:t.planesize,height:t.planesize},e),o=new $.a("groundMaterial",e);o.majorUnitFrequency=10,o.minorUnitVisibility=.5,o.gridRatio=t.gridsize,o.backFaceCulling=!1,o.mainColor=new W.b(1,1,1),o.lineColor=new W.b(1,1,1),o.opacity=.98,n.material=o,n.isPickable=!1},onRender:function(e){},id:"viewport"})},re=(a(235),a(314)),se=Object(d.a)((function(e){return{root:{width:"fit-content",border:"1px solid ".concat(e.palette.divider),backgroundColor:e.palette.background.paper,color:e.palette.text.secondary,"& svg":{margin:e.spacing(1.5)},"& hr":{margin:e.spacing(0,.5)}}}})),le=function(e){var t=se();return Object(i.jsx)("div",{children:Object(i.jsxs)(S.a,{container:!0,alignItems:"left",className:t.root,children:["plane:",Object(i.jsx)(re.a,{orientation:"vertical",flexItem:!0}),e.children.planesize,Object(i.jsx)(re.a,{orientation:"vertical",flexItem:!0}),"grid:",Object(i.jsx)(re.a,{orientation:"vertical",flexItem:!0}),e.children.gridsize]})})},ce=a(216),de=a.n(ce),be=a(238),me=Object(d.a)((function(e){return{margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textFieldtop:{width:"32ch",background:"white",borderRadius:8,opacity:.8},textField:{width:"16ch",background:"white",borderRadius:8,opacity:.8}}})),ue=function(e){var t,a=me(),n=o.a.useState({primetype:"",primename:"",polyhydrontype:null,addnew:!1,positionx:0,positiony:0,positionz:0,scalex:100,scaley:100,scalez:100,rotationx:0,rotationy:0,rotationz:0}),r=Object(c.a)(n,2),s=r[0],d=r[1],m=function(e){return function(t){var a;d(Object(l.a)(Object(l.a)({},s),{},(a={},Object(z.a)(a,e,t.target.value),Object(z.a)(a,"addnew",!1),a)))}};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:a.margin}),Object(i.jsx)(S.a,{container:!0,direction:"row",alignItems:"center",children:Object(i.jsx)(S.a,{item:!0,children:Object(i.jsxs)(U.a,{size:"small",variant:"filled",className:a.textFieldtop,children:[Object(i.jsx)(J.a,{htmlFor:"filled-age-native-simple",children:"+ Primes (All Fields Required)"}),Object(i.jsxs)(X.a,{native:!0,value:s.primetype,onChange:function(e){var t,a=e.target.name,i=e.target.value;"POLYHYDRON"==e.target.value?Object(be.a)(de.a.mark((function e(){var t,a;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("selected Polyhydron, now choose type"),e.next=3,G.a.fire({position:"top",background:"black",input:"select",inputOptions:{Polyhydrons:{0:"Tetrahedron",1:"Octahedron",2:"Dodecahedron",3:"Icosahedron",4:"Rhombicuboctahedron",5:"Triangular Prism",6:"Pentagonal Prism",7:"HexagonalPrism",8:"Square Pyramid (J1)",9:"Pentagonal Pyramid (J2)",10:"Triangular Dipyramid (J12)",11:"Pentagonal Dipyramid (J13)",12:"Elongated Square Dipyramid (J15)",13:"Elongated Pentagonal Dipyramid (J16)",14:"Elongated Pentagonal Cupola (J20)"}},inputPlaceholder:"Select a Polyhydron",showCancelButton:!0,inputValidator:function(e){return new Promise((function(e){e()}))}});case 3:t=e.sent,(a=t.value)&&(G.a.fire({background:"black",icon:"success",text:"Selected",showConfirmButton:!1,timer:1500}),d(Object(l.a)(Object(l.a)({},s),{},{primetype:i,polyhydrontype:a,addnew:!1})));case 6:case"end":return e.stop()}}),e)})))():d(Object(l.a)(Object(l.a)({},s),{},(t={},Object(z.a)(t,a,e.target.value),Object(z.a)(t,"polyhydrontype",null),Object(z.a)(t,"addnew",!1),t)))},inputProps:{name:"primetype",id:"filled-primes-native-simple"},children:[Object(i.jsx)("option",{"aria-label":"None",value:""}),Object(i.jsx)("option",{value:"BOX",children:"BOX"}),Object(i.jsx)("option",{value:"SPHERE",children:"SPHERE"}),Object(i.jsx)("option",{value:"CYLINDER",children:"CYLINDER"}),Object(i.jsx)("option",{value:"POLYHYDRON",children:"POLYHYDRON"})]})]})})}),Object(i.jsx)("div",{children:Object(i.jsxs)(S.a,{container:!0,direction:"row",alignItems:"left",children:[Object(i.jsx)(S.a,{item:!0,children:Object(i.jsxs)(S.a,{container:!0,direction:"column",alignItems:"left",children:[Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-name",variant:"filled",color:"secondary",label:"object name",type:"string",onChange:m("primename"),className:Object(N.a)(a.margin,a.textField),InputProps:{}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"center position",type:"number",defaultValue:s.positionx,onChange:m("positionx"),className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positiony"),defaultValue:s.positiony,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positionz"),defaultValue:s.positionz,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Z:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"rotation-x (degree)",type:"number",defaultValue:s.rotationx,onChange:m("rotationx"),className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"rotation-y (degree)",type:"number",onChange:m("rotationy"),defaultValue:s.rotationy,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"rotation-z (degree)",type:"number",onChange:m("rotationz"),defaultValue:s.rotationz,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Z:"})}})})]})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsxs)(S.a,{container:!0,direction:"column",alignItems:"left",children:[Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"scale-x",type:"number",defaultValue:s.scalex,onChange:m("scalex"),className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"scale-y",type:"number",onChange:m("scaley"),defaultValue:s.scaley,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"scale-z",type:"number",onChange:m("scalez"),defaultValue:s.scalez,className:Object(N.a)(a.margin,a.textField),InputProps:{startAdornment:Object(i.jsx)(k.a,{position:"start",children:"Z:"})}})}),Object(i.jsx)("div",{className:a.margin}),Object(i.jsx)(S.a,{item:!0,children:Object(i.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm grid",onClick:function(){d(Object(l.a)(Object(l.a)({},s),{},{addnew:!0})),e.onChange&&e.onChange(s)}},Object(z.a)(t,"color",s.addnew?"primary":"default"),Object(z.a)(t,"children",Object(i.jsx)(R.a,{})),t))})]})})]})})]})},je=a(239),pe=a(243),he=Object(d.a)((function(e){return{root:{"& > *":{marginRight:e.spacing(2)}},extendedIcon:{marginRight:e.spacing(2)}}}));function ge(){var e=he(),t=o.a.useState({planesize:6e3,gridsize:50,gridChange:!1,confirmed:!1,lightR:.45,lightG:.45,lightB:.45}),a=Object(c.a)(t,2),n=a[0],r=a[1],s=o.a.useState({primetype:"",primename:"",addnew:!1,positionx:0,positiony:0,positionz:0,scalex:100,scaley:100,scalez:100,rotationx:0,rotationy:0,rotationz:0}),d=Object(c.a)(s,2),m=d[0],j=d[1],h=o.a.useState({buultintype:"",builtinname:"",builtinnew:!1,positionx:0,positiony:0,positionz:0,scalex:1,scaley:1,scalez:1,rotationx:0,rotationy:0,rotationz:0}),x=Object(c.a)(h,2),f=x[0],w=x[1],z=o.a.useState({file:"",fileadd:!1}),N=Object(c.a)(z,2),C=N[0],k=N[1],I=o.a.useState({showAdd:!1,showSettings:!1,showEdit:!1,showImport:!1,showLibrary:!1}),P=Object(c.a)(I,2),R=P[0],S=P[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:e.root,children:Object(i.jsxs)("div",{className:"Navigation",children:[Object(i.jsx)(b.a,{size:"small",color:R.showSettings?"primary":"default",onClick:function(){S({showImport:!1,showEdit:!1,showAdd:!1,showLibrary:!1,showSettings:!R.showSettings})},children:Object(i.jsx)(g.a,{"aria-label":"setting"})}),Object(i.jsx)(b.a,{size:"small","aria-label":"add",color:R.showAdd?"primary":"default",onClick:function(){S({showImport:!1,showEdit:!1,showLibrary:!1,showAdd:!R.showAdd,showSettings:!1})},children:Object(i.jsx)(u.a,{})}),Object(i.jsx)(b.a,{size:"small","aria-label":"add",color:R.showLibrary?"primary":"default",onClick:function(){S({showEdit:!1,showAdd:!1,showLibrary:!R.showLibrary,showSettings:!1,showImport:!1})},children:Object(i.jsx)(y.a,{})}),Object(i.jsx)(b.a,{size:"small","aria-label":"import",color:R.showImport?"primary":"default",onClick:function(){S({showEdit:!1,showAdd:!1,showLibrary:!1,showSettings:!1,showImport:!R.showImport})},children:Object(i.jsx)(je.a,{icon:pe.a,size:"lg"})}),Object(i.jsx)(b.a,{size:"small","aria-label":"edit",children:Object(i.jsx)(p.a,{})}),Object(i.jsx)(b.a,{size:"small","aria-label":"delete",children:Object(i.jsx)(v.a,{})}),Object(i.jsx)(b.a,{size:"small","aria-label":"download",children:Object(i.jsx)(O.a,{})}),R.showSettings&&Object(i.jsx)("div",{className:"SettingTable",children:Object(i.jsx)(L,{onChange:function(e){e.planesize!=n.planesize||e.gridsize!=n.gridsize||e.lightR!=n.lightR||e.lightB!=n.lightB||e.lightG!=n.lightG?(console.log("a grid change happened"),r(Object(l.a)(Object(l.a)({},e),{},{gridChange:!0}))):console.log("no change needed")}})}),R.showAdd&&Object(i.jsx)("div",{className:"AddTable",children:Object(i.jsx)(ue,{onChange:function(e){e.primetype==m.primetype&&e.primename==m.primename&&e.positionx==m.positionx&&e.positiony==m.positiony&&e.positionz==m.positionz&&e.scalex==m.scalex&&e.scalez==m.scalez&&e.scaley==m.scaley&&e.rotationx==m.rotationx&&e.rotationy==m.rotationy&&e.rotationz==m.rotationz||j(Object(l.a)(Object(l.a)({},e),{},{addnew:!0}))}})}),R.showImport&&Object(i.jsx)("div",{className:"UploadTable",children:Object(i.jsx)(q,{onChange:function(e){e.file.name!=C.file.name?(console.log("a file add happened"),k(Object(l.a)(Object(l.a)({},e),{},{fileadd:!0}))):console.log("no need to change")}})}),R.showLibrary&&Object(i.jsx)("div",{className:"LibraryTable",children:Object(i.jsx)(Z,{onChange:function(e){e.builtintype==f.builtintype&&e.builtinname==f.builtinname&&e.positionx==f.positionx&&e.positiony==f.positiony&&e.positionz==f.positionz&&e.scalex==f.scalex&&e.scalez==f.scalez&&e.scaley==f.scaley&&e.rotationx==f.rotationx&&e.rotationy==f.rotationy&&e.rotationz==f.rotationz||w(Object(l.a)(Object(l.a)({},e),{},{builtinnew:!0}))}})})]})}),Object(i.jsx)("div",{className:"BottomView",children:Object(i.jsx)(oe,{settingData:n,setSettings:r,addData:m,setAdd:j,fileControl:C,setFileControl:k,libraryData:f,setBuiltin:w})}),Object(i.jsx)("div",{className:"Scaleline",children:Object(i.jsx)(le,{children:n})})]})}var xe=a(249),Oe=a(317),fe=a(315);function ye(e){e.preventDefault(),window.open("https://www.muyangguo.xyz/","_blank")}function we(){return Object(i.jsxs)(Oe.a,{"aria-label":"breadcrumb",children:[Object(i.jsx)(xe.a,{color:"textPrimary",children:"Prototype V1"}),Object(i.jsx)(fe.a,{color:"inherit",href:"https://www.muyangguo.xyz",onClick:ye,children:"@Muyang Guo"})]})}a(271);var ve=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(ge,{}),Object(i.jsx)("div",{className:"Footer",children:Object(i.jsx)(we,{})})]})};s.a.render(Object(i.jsx)(ve,{}),document.getElementById("root"))}},[[272,1,2]]]);
//# sourceMappingURL=main.28a00d56.chunk.js.map
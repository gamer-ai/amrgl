(this.webpackJsonpamrgl=this.webpackJsonpamrgl||[]).push([[0],{235:function(e,t,i){},261:function(e,t,i){},269:function(e,t,i){},271:function(e,t,i){},272:function(e,t,i){"use strict";i.r(t);var a=i(15),n=i(5),o=i.n(n),r=i(73),s=i.n(r),l=(i(261),i(36)),c=i(103),d=i(303),b=i(312),m=i(241),u=i.n(m),j=i(244),p=i.n(j),h=i(240),g=i.n(h),x=i(246),f=i.n(x),O=i(242),y=i.n(O),w=i(245),N=i.n(w),z=i(66),v=i(27),C=i(40),k=i(311),I=i(319),B=i(138),D=i.n(B),P=i(307),R=i(318),S=i(313),F=i(237),A=i.n(F),M=Object(d.a)((function(e){return{sliderroot:{width:100+2*e.spacing(3)},slidermargin:{height:e.spacing(2)},margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textField:{width:"12ch",background:"white",borderRadius:8,opacity:.8}}})),E=Object(C.a)({root:{color:"red",height:4},thumb:{height:20,width:20,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(R.a),T=Object(C.a)({root:{color:"green",height:4},thumb:{height:20,width:20,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(R.a),V=Object(C.a)({root:{color:"blue",height:4},thumb:{height:20,width:20,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(R.a),L=function(e){var t,i=M(),n=o.a.useState({planesize:6e3,gridsize:50,gridChange:!1,lightR:.45,lightG:.45,lightB:.45}),r=Object(c.a)(n,2),s=r[0],d=r[1],m=function(e){return function(t){var i;d(Object(l.a)(Object(l.a)({},s),{},(i={},Object(z.a)(i,e,t.target.value),Object(z.a)(i,"gridChange",!1),i)))}},u=function(e){return function(t,i){var a;d(Object(l.a)(Object(l.a)({},s),{},(a={},Object(z.a)(a,e,i),Object(z.a)(a,"gridChange",!1),a)))}};return Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsx)("div",{children:Object(a.jsxs)(P.a,{container:!0,direction:"row",alignItems:"center",children:[Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-planesize",variant:"filled",color:"secondary",label:"plane size",type:"number",defaultValue:s.planesize,onChange:m("planesize"),className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"inch"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-gridsize",variant:"filled",color:"secondary",label:"grid size",type:"number",onChange:m("gridsize"),defaultValue:s.gridsize,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"inch"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm grid",onClick:function(){d(Object(l.a)(Object(l.a)({},s),{},{gridChange:!0})),e.onChange&&e.onChange(s)}},Object(z.a)(t,"color",s.gridChange?"primary":"default"),Object(z.a)(t,"children",Object(a.jsx)(D.a,{})),t))})]})}),Object(a.jsx)(P.a,{container:!0,direction:"row",alignItems:"left",children:Object(a.jsx)(P.a,{item:!0,children:Object(a.jsxs)("div",{className:i.sliderroot,children:[Object(a.jsx)("div",{className:i.slidermargin}),Object(a.jsxs)(S.a,{size:"small",disabled:!0,style:{color:"black"},children:[" Background ",Object(a.jsx)(A.a,{fontSize:"large"})]}),Object(a.jsx)("div",{className:i.slidermargin}),Object(a.jsx)(E,{valueLabelDisplay:"auto","aria-label":"pretto slider 2",defaultValue:.45,min:0,max:1,step:.01,onChange:u("lightR")}),Object(a.jsx)("div",{className:i.slidermargin}),Object(a.jsx)(V,{valueLabelDisplay:"auto","aria-label":"pretto slider 3",defaultValue:.45,min:0,max:1,step:.01,onChange:u("lightB")}),Object(a.jsx)("div",{className:i.slidermargin}),Object(a.jsx)(T,{valueLabelDisplay:"auto","aria-label":"pretto slider 4",defaultValue:.45,min:0,max:1,step:.01,onChange:u("lightG")})]})})}),Object(a.jsx)("div",{})]})},Y=i(62),G=i.n(Y),_=Object(d.a)((function(e){return{margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textField:{width:"30ch",background:"white",borderRadius:8,opacity:.8}}})),H=function(e){var t,i=_(),n=o.a.useState({file:"",confirmUpload:!1}),r=Object(c.a)(n,2),s=r[0],d=r[1];return Object(a.jsx)("div",{className:i.root,children:Object(a.jsx)("div",{children:Object(a.jsxs)(P.a,{container:!0,direction:"column",alignItems:"left",children:[Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-planesize",variant:"outlined",color:"secondary",type:"file",defaultValue:s.file.name,onChange:function(e){d({file:e.target.files[0],confirmUpload:!1})},className:Object(v.a)(i.margin,i.textField)})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsxs)("div",{id:"upload-states-info",children:[Object(a.jsxs)("p",{children:["Filename: ",s.file.name]}),Object(a.jsxs)("p",{children:["File Size: ",s.file.size," bytes"]})]})}),Object(a.jsxs)(P.a,{item:!0,children:[Object(a.jsx)("div",{className:i.slidermargin}),Object(a.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm color",onClick:function(){d(Object(l.a)(Object(l.a)({},s),{},{confirmUpload:!0})),e.onChange&&e.onChange(s)}},Object(z.a)(t,"color",s.confirmUpload?"primary":"default"),Object(z.a)(t,"children",Object(a.jsx)(D.a,{})),t))]})]})})})},q=i(320),J=i(310),U=i(316),X=(i(168),Object(d.a)((function(e){return{margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textFieldtop:{width:"32ch",background:"white",borderRadius:8,opacity:.8},textField:{width:"16ch",background:"white",borderRadius:8,opacity:.8}}}))),Z=function(e){var t,i=X(),n=o.a.useState({builtintype:"",builtinname:"",builtinnew:!1,positionx:0,positiony:0,positionz:0,scalex:1,scaley:1,scalez:1,rotationx:0,rotationy:0,rotationz:0}),r=Object(c.a)(n,2),s=r[0],d=r[1],m=function(e){return function(t){var i;d(Object(l.a)(Object(l.a)({},s),{},(i={},Object(z.a)(i,e,t.target.value),Object(z.a)(i,"builtinnew",!1),i)))}};return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:i.margin}),Object(a.jsx)(P.a,{container:!0,direction:"row",alignItems:"center",children:Object(a.jsx)(P.a,{item:!0,children:Object(a.jsxs)(J.a,{size:"small",variant:"filled",className:i.textFieldtop,children:[Object(a.jsx)(q.a,{htmlFor:"filled-age-native-simple",children:"+ Models (All Fields Required)"}),Object(a.jsxs)(U.a,{native:!0,value:s.builtintype,onChange:function(e){var t,i=e.target.name;e.target.value;d(Object(l.a)(Object(l.a)({},s),{},(t={},Object(z.a)(t,i,e.target.value),Object(z.a)(t,"builtinnew",!1),t)))},inputProps:{name:"builtintype",id:"filled-builtins-native-simple"},children:[Object(a.jsx)("option",{"aria-label":"None",value:""}),Object(a.jsxs)("optgroup",{label:"Base",children:[Object(a.jsx)("option",{value:"Wall_100x100x10",children:"Wall 100x100x10"}),Object(a.jsx)("option",{value:"Floor_1000x1x1000",children:"Floor 1000x1x1000"})]}),Object(a.jsx)("optgroup",{label:"Shelf System",children:Object(a.jsx)("option",{value:"Storage_Shelf_100x150x40",children:"Storage Shelf 100x150x40"})})]})]})})}),Object(a.jsx)("div",{children:Object(a.jsxs)(P.a,{container:!0,direction:"row",alignItems:"left",children:[Object(a.jsx)(P.a,{item:!0,children:Object(a.jsxs)(P.a,{container:!0,direction:"column",alignItems:"left",children:[Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-name",variant:"filled",color:"secondary",label:"object name",type:"string",onChange:m("builtinname"),className:Object(v.a)(i.margin,i.textField),InputProps:{}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"center position",type:"number",defaultValue:s.positionx,onChange:m("positionx"),className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positiony"),defaultValue:s.positiony,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positionz"),defaultValue:s.positionz,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Z:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"rotation-x (degree)",type:"number",defaultValue:s.rotationx,onChange:m("rotationx"),className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"rotation-y (degree)",type:"number",onChange:m("rotationy"),defaultValue:s.rotationy,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"rotation-z (degree)",type:"number",onChange:m("rotationz"),defaultValue:s.rotationz,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Z:"})}})})]})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsxs)(P.a,{container:!0,direction:"column",alignItems:"left",children:[Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"scale-x",type:"number",defaultValue:s.scalex,onChange:m("scalex"),className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"scale-y",type:"number",onChange:m("scaley"),defaultValue:s.scaley,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"scale-z",type:"number",onChange:m("scalez"),defaultValue:s.scalez,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Z:"})}})}),Object(a.jsx)("div",{className:i.margin}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm grid",onClick:function(){s.builtinname?(d(Object(l.a)(Object(l.a)({},s),{},{builtinnew:!0})),e.onChange&&e.onChange(s)):G.a.fire({background:"black",icon:"info",text:"Please assign a name for your object"})}},Object(z.a)(t,"color",s.builtinnew?"primary":"default"),Object(z.a)(t,"children",Object(a.jsx)(D.a,{})),t))})]})})]})})]})},W=(i(274),i(30)),$=i(217),K=i(247),Q=function(e){var t=Object(n.useRef)(null),i=e.antialias,o=e.engineOptions,r=e.adaptToDeviceRatio,s=e.sceneOptions,c=e.onRender,d=(e.onSceneReady,Object(K.a)(e,["antialias","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","onSceneReady"])),b=window.innerWidth,m=window.innerHeight;return Object(n.useEffect)((function(){if(t.current){var a=new W.c(t.current,i,o,r,{stencil:!0}),n=new W.j(a,s);n.clearColor=new W.b(.45,.45,.45),a.setSize(b,m),n.isReady()?e.onSceneReady(n):n.onReadyObservable.addOnce((function(t){return e.onSceneReady(t)})),a.runRenderLoop((function(){"function"===typeof c&&c(n),n.render()}));var l=function(){var e=window.innerWidth,t=window.innerHeight;a.setSize(e,t),n.getEngine().resize()};return window&&window.addEventListener("resize",l),function(){n.getEngine().dispose(),window&&window.removeEventListener("resize",l)}}}),[t]),Object(a.jsx)("canvas",Object(l.a)({ref:t},d))},ee=(i(269),null),te=null,ie=null,ae=null;function ne(e){return e*(Math.PI/180)}var oe=function(e){var t=e.settingData,i=e.setSettings,n=e.addData,r=e.setAdd,s=e.fileControl,c=e.setFileControl,d=e.libraryData,b=e.setBuiltin,m=o.a.useRef(null);o.a.useEffect((function(){var e=m.current;if(e){if(ee?(ee.attachedMesh=null,ee.dispose(),te.dispose(),ie.dispose(),ae.dispose(),ie=new W.m(e),ee=new W.h(ie),te=new W.i(ie),ae=new W.e(e)):(ie=new W.m(e),ee=new W.h(ie),te=new W.i(ie),ae=new W.e(e)),ee.attachedMesh=null,ee.updateGizmoRotationToMatchAttachedMesh=!1,ee.updateGizmoPositionToMatchAttachedMesh=!0,te.updateGizmoRotationToMatchAttachedMesh=!1,te.updateGizmoPositionToMatchAttachedMesh=!0,e.onPointerDown=function(t,i){i.hit?(console.log(i.pickedMesh.name),console.log(e.meshes),ae.removeAllMeshes(),ee.attachedMesh=i.pickedMesh,te.attachedMesh=i.pickedMesh,ae.addMesh(i.pickedMesh,W.b.Magenta())):(ee.attachedMesh=null,te.attachedMesh=null,ae.removeAllMeshes())},t.gridChange){console.log("grid change request"),e.clearColor=new W.b(t.lightR,t.lightG,t.lightB);var a=e.getMeshByID("plane"),o=e.getMaterialByID("groundMaterial");if(a._width!=t.planesize||o.gridRatio!=t.gridsize){a.dispose(),o.dispose();var u=W.g.CreateGround("plane",{width:t.planesize,height:t.planesize},e),j=new $.a("groundMaterial",e);j.majorUnitFrequency=10,j.minorUnitVisibility=.5,j.gridRatio=t.gridsize,j.backFaceCulling=!1,j.mainColor=new W.b(1,1,1),j.lineColor=new W.b(1,1,1),j.opacity=.98,u.material=j,u.isPickable=!1}i(Object(l.a)(Object(l.a)({},t),{},{gridChange:!1}))}if(s.fileadd){console.log(s.file);var p=new W.l;W.k.ImportMesh("","https://raw.githubusercontent.com/gamer-ai/amrgl/main/frontend/amrgl/src/assets/example/metal_shelf.obj","",e,(function(e){e.forEach((function(e){e.parent||(e.parent=p)})),p.scaling=new W.n(10,1,1),console.log(p)})),c(Object(l.a)(Object(l.a)({},s),{},{fileadd:!1}))}if(d.builtinnew)if(console.log("add new object from library request"),"Storage_Shelf_100x150x40"==d.builtintype){var h=e.getMeshByID(d.builtinname)||e.getNodeByID(d.builtinname);if(console.log(h),h)console.log("found exist!"),G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+d.builtinname+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),h.dispose();var i=new W.l;W.k.ImportMesh("","https://raw.githubusercontent.com/gamer-ai/amrgl/main/frontend/amrgl/src/assets/example/metal_shelf.obj","",e,(function(e){e.forEach((function(e){e.parent||(e.parent=i)})),i.id=d.builtinname,i.position=new W.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),i.scaling=new W.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),i.rotation=new W.n(ne(Number(d.rotationx)),ne(Number(d.rotationy)),ne(Number(d.rotationz)))})),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}else t.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{console.log("imported new mesh!");var g=new W.l;W.k.ImportMesh("","https://raw.githubusercontent.com/gamer-ai/amrgl/main/frontend/amrgl/src/assets/example/metal_shelf.obj","",e,(function(e){e.forEach((function(e){e.parent||(e.parent=g)})),g.id=d.builtinname,g.position=new W.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),g.scaling=new W.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),g.rotation=new W.n(ne(Number(d.rotationx)),ne(Number(d.rotationy)),ne(Number(d.rotationz)))})),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}}else if("Wall_100x100x10"==d.builtintype){console.log("wall imported");var x=e.getMeshByID(d.builtinname)||e.getNodeByID(d.builtinname);if(x)console.log("found exist!"),G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+d.builtinname+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),x.dispose();var i=W.g.CreateBox(d.builtinname,{width:100,height:100,depth:10},e);i.position=new W.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),i.scaling=new W.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),i.rotation=new W.n(ne(Number(d.rotationx)),ne(Number(d.rotationy)),ne(Number(d.rotationz))),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}else t.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{console.log("imported new mesh!");var f=W.g.CreateBox(d.builtinname,{width:100,height:100,depth:10},e);f.position=new W.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),f.scaling=new W.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),f.rotation=new W.n(ne(Number(d.rotationx)),ne(Number(d.rotationy)),ne(Number(d.rotationz))),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}}else if("Floor_1000x1x1000"==d.builtintype){console.log("floor imported");var O=e.getMeshByID(d.builtinname)||e.getNodeByID(d.builtinname);if(O)console.log("found exist!"),G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+d.builtinname+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),O.dispose();var i=W.g.CreateBox(d.builtinname,{width:1e3,height:1,depth:1e3},e);i.position=new W.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),i.scaling=new W.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),i.rotation=new W.n(ne(Number(d.rotationx)),ne(Number(d.rotationy)),ne(Number(d.rotationz))),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}else t.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{console.log("imported new mesh!");var y=W.g.CreateBox(d.builtinname,{width:1e3,height:1,depth:1e3},e);y.position=new W.n(Number(d.positionx),Number(d.positiony),Number(d.positionz)),y.scaling=new W.n(Number(d.scalex),Number(d.scaley),Number(d.scalez)),y.rotation=new W.n(ne(Number(d.rotationx)),ne(Number(d.rotationy)),ne(Number(d.rotationz))),b(Object(l.a)(Object(l.a)({},d),{},{builtinnew:!1}))}}else console.log("nothing selected");if(n.addnew)if(console.log("add new prime request"),"BOX"==n.primetype){var w=e.getMeshByID(n.primename)||e.getNodeByID(n.primename);if(w)G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+n.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),w.dispose();var i=W.g.CreateBox(n.primename,{size:1},e);i.position=new W.n(Number(n.positionx),Number(n.positiony),Number(n.positionz)),i.scaling=new W.n(Number(n.scalex),Number(n.scaley),Number(n.scalez)),i.rotation=new W.n(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}else t.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var N=W.g.CreateBox(n.primename,{size:1},e);N.isPickable=!0,N.position=new W.n(Number(n.positionx),Number(n.positiony),Number(n.positionz)),N.scaling=new W.n(Number(n.scalex),Number(n.scaley),Number(n.scalez)),N.rotation=new W.n(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}}else if("SPHERE"==n.primetype){var z=e.getMeshByID(n.primename)||e.getNodeByID(n.primename);if(z)G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+n.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),z.dispose();var i=W.g.CreateSphere(n.primename,{size:1},e);i.position=new W.n(Number(n.positionx),Number(n.positiony),Number(n.positionz)),i.scaling=new W.n(Number(n.scalex),Number(n.scaley),Number(n.scalez)),i.rotation=new W.n(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}else t.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var v=W.g.CreateSphere(n.primename,{size:1},e);v.position=new W.n(Number(n.positionx),Number(n.positiony),Number(n.positionz)),v.scaling=new W.n(Number(n.scalex),Number(n.scaley),Number(n.scalez)),v.rotation=new W.n(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}}else if("CYLINDER"==n.primetype){var C=e.getMeshByID(n.primename)||e.getNodeByID(n.primename);if(C)G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+n.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),C.dispose();var i=W.g.CreateCylinder(n.primename,{size:1},e);i.position=new W.n(Number(n.positionx),Number(n.positiony),Number(n.positionz)),i.scaling=new W.n(Number(n.scalex),Number(n.scaley),Number(n.scalez)),i.rotation=new W.n(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}else t.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var k=W.g.CreateCylinder(n.primename,{size:1},e);k.position=new W.n(Number(n.positionx),Number(n.positiony),Number(n.positionz)),k.scaling=new W.n(Number(n.scalex),Number(n.scaley),Number(n.scalez)),k.rotation=new W.n(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}}else if("POLYHYDRON"==n.primetype){var I=e.getMeshByID(n.primename)||e.getNodeByID(n.primename);if(I)G.a.fire({position:"top",text:"Do you want to edit an existing object, name: "+n.primename+" ?",showDenyButton:!0,background:"black",allowOutsideClick:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(t){if(t.isConfirmed){G.a.fire({background:"black",icon:"success",text:"Edited",showConfirmButton:!1,timer:1500}),I.dispose();var i=W.f.CreatePolyhedron(n.primename,{type:n.polyhydrontype,size:1},e);i.position=new W.n(Number(n.positionx),Number(n.positiony),Number(n.positionz)),i.scaling=new W.n(Number(n.scalex),Number(n.scaley),Number(n.scalez)),i.rotation=new W.n(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}else t.isDenied&&G.a.fire({background:"black",icon:"info",text:"Changes are not saved, please edit again"})}));else{var B=W.f.CreatePolyhedron(n.primename,{type:n.polyhydrontype,size:1},e);B.position=new W.n(Number(n.positionx),Number(n.positiony),Number(n.positionz)),B.scaling=new W.n(Number(n.scalex),Number(n.scaley),Number(n.scalez)),B.rotation=new W.n(ne(Number(n.rotationx)),ne(Number(n.rotationy)),ne(Number(n.rotationz))),r(Object(l.a)(Object(l.a)({},n),{},{addnew:!1}))}}}}),[t,n,s,d]);return Object(a.jsx)(Q,{antialias:!0,onSceneReady:function(e){m.current=e;var i=new W.a("mainCamera",0,0,10,new W.n(0,0,0),e);i.setPosition(new W.n(0,500,-600));var a=e.getEngine().getRenderingCanvas();i.attachControl(a,!0),new W.d("light",new W.n(0,500,0),e).intensity=.7;var n=W.g.CreateGround("plane",{width:t.planesize,height:t.planesize},e),o=new $.a("groundMaterial",e);o.majorUnitFrequency=10,o.minorUnitVisibility=.5,o.gridRatio=t.gridsize,o.backFaceCulling=!1,o.mainColor=new W.b(1,1,1),o.lineColor=new W.b(1,1,1),o.opacity=.98,n.material=o,n.isPickable=!1},onRender:function(e){},id:"viewport"})},re=(i(235),i(314)),se=Object(d.a)((function(e){return{root:{width:"fit-content",border:"1px solid ".concat(e.palette.divider),backgroundColor:e.palette.background.paper,color:e.palette.text.secondary,"& svg":{margin:e.spacing(1.5)},"& hr":{margin:e.spacing(0,.5)}}}})),le=function(e){var t=se();return Object(a.jsx)("div",{children:Object(a.jsxs)(P.a,{container:!0,alignItems:"left",className:t.root,children:["plane:",Object(a.jsx)(re.a,{orientation:"vertical",flexItem:!0}),e.children.planesize,Object(a.jsx)(re.a,{orientation:"vertical",flexItem:!0}),"grid:",Object(a.jsx)(re.a,{orientation:"vertical",flexItem:!0}),e.children.gridsize]})})},ce=i(216),de=i.n(ce),be=i(238),me=Object(d.a)((function(e){return{margin:{marginTop:e.spacing(1),marginRight:e.spacing(1)},textFieldtop:{width:"32ch",background:"white",borderRadius:8,opacity:.8},textField:{width:"16ch",background:"white",borderRadius:8,opacity:.8}}})),ue=function(e){var t,i=me(),n=o.a.useState({primetype:"",primename:"",polyhydrontype:null,addnew:!1,positionx:0,positiony:0,positionz:0,scalex:100,scaley:100,scalez:100,rotationx:0,rotationy:0,rotationz:0}),r=Object(c.a)(n,2),s=r[0],d=r[1],m=function(e){return function(t){var i;d(Object(l.a)(Object(l.a)({},s),{},(i={},Object(z.a)(i,e,t.target.value),Object(z.a)(i,"addnew",!1),i)))}};return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:i.margin}),Object(a.jsx)(P.a,{container:!0,direction:"row",alignItems:"center",children:Object(a.jsx)(P.a,{item:!0,children:Object(a.jsxs)(J.a,{size:"small",variant:"filled",className:i.textFieldtop,children:[Object(a.jsx)(q.a,{htmlFor:"filled-age-native-simple",children:"+ Primes (All Fields Required)"}),Object(a.jsxs)(U.a,{native:!0,value:s.primetype,onChange:function(e){var t,i=e.target.name,a=e.target.value;"POLYHYDRON"==e.target.value?Object(be.a)(de.a.mark((function e(){var t,i;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("selected Polyhydron, now choose type"),e.next=3,G.a.fire({position:"top",background:"black",input:"select",inputOptions:{Polyhydrons:{0:"Tetrahedron",1:"Octahedron",2:"Dodecahedron",3:"Icosahedron",4:"Rhombicuboctahedron",5:"Triangular Prism",6:"Pentagonal Prism",7:"HexagonalPrism",8:"Square Pyramid (J1)",9:"Pentagonal Pyramid (J2)",10:"Triangular Dipyramid (J12)",11:"Pentagonal Dipyramid (J13)",12:"Elongated Square Dipyramid (J15)",13:"Elongated Pentagonal Dipyramid (J16)",14:"Elongated Pentagonal Cupola (J20)"}},inputPlaceholder:"Select a Polyhydron",showCancelButton:!0,inputValidator:function(e){return new Promise((function(e){e()}))}});case 3:t=e.sent,(i=t.value)&&(G.a.fire({background:"black",icon:"success",text:"Selected",showConfirmButton:!1,timer:1500}),d(Object(l.a)(Object(l.a)({},s),{},{primetype:a,polyhydrontype:i,addnew:!1})));case 6:case"end":return e.stop()}}),e)})))():d(Object(l.a)(Object(l.a)({},s),{},(t={},Object(z.a)(t,i,e.target.value),Object(z.a)(t,"polyhydrontype",null),Object(z.a)(t,"addnew",!1),t)))},inputProps:{name:"primetype",id:"filled-primes-native-simple"},children:[Object(a.jsx)("option",{"aria-label":"None",value:""}),Object(a.jsx)("option",{value:"BOX",children:"BOX"}),Object(a.jsx)("option",{value:"SPHERE",children:"SPHERE"}),Object(a.jsx)("option",{value:"CYLINDER",children:"CYLINDER"}),Object(a.jsx)("option",{value:"POLYHYDRON",children:"POLYHYDRON"})]})]})})}),Object(a.jsx)("div",{children:Object(a.jsxs)(P.a,{container:!0,direction:"row",alignItems:"left",children:[Object(a.jsx)(P.a,{item:!0,children:Object(a.jsxs)(P.a,{container:!0,direction:"column",alignItems:"left",children:[Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-name",variant:"filled",color:"secondary",label:"object name",type:"string",onChange:m("primename"),className:Object(v.a)(i.margin,i.textField),InputProps:{}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"center position",type:"number",defaultValue:s.positionx,onChange:m("positionx"),className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positiony"),defaultValue:s.positiony,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"center position",type:"number",onChange:m("positionz"),defaultValue:s.positionz,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Z:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"rotation-x (degree)",type:"number",defaultValue:s.rotationx,onChange:m("rotationx"),className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"rotation-y (degree)",type:"number",onChange:m("rotationy"),defaultValue:s.rotationy,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"rotation-z (degree)",type:"number",onChange:m("rotationz"),defaultValue:s.rotationz,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Z:"})}})})]})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsxs)(P.a,{container:!0,direction:"column",alignItems:"left",children:[Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-x",variant:"filled",color:"secondary",label:"scale-x",type:"number",defaultValue:s.scalex,onChange:m("scalex"),className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"X:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-y",variant:"filled",color:"secondary",label:"scale-y",type:"number",onChange:m("scaley"),defaultValue:s.scaley,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Y:"})}})}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(I.a,{size:"small",id:"filled-secondary-z",variant:"filled",color:"secondary",label:"scale-z",type:"number",onChange:m("scalez"),defaultValue:s.scalez,className:Object(v.a)(i.margin,i.textField),InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:"Z:"})}})}),Object(a.jsx)("div",{className:i.margin}),Object(a.jsx)(P.a,{item:!0,children:Object(a.jsx)(b.a,(t={size:"small",color:"secondary","aria-label":"confirm grid",onClick:function(){s.primename?(d(Object(l.a)(Object(l.a)({},s),{},{addnew:!0})),e.onChange&&e.onChange(s)):G.a.fire({background:"black",icon:"info",text:"Please assign a name for your object"})}},Object(z.a)(t,"color",s.addnew?"primary":"default"),Object(z.a)(t,"children",Object(a.jsx)(D.a,{})),t))})]})})]})})]})},je=i(239),pe=i(243),he=Object(d.a)((function(e){return{root:{"& > *":{marginRight:e.spacing(2)}},extendedIcon:{marginRight:e.spacing(2)}}}));function ge(){var e=he(),t=o.a.useState({planesize:6e3,gridsize:50,gridChange:!1,confirmed:!1,lightR:.45,lightG:.45,lightB:.45}),i=Object(c.a)(t,2),n=i[0],r=i[1],s=o.a.useState({primetype:"",primename:"",addnew:!1,positionx:0,positiony:0,positionz:0,scalex:100,scaley:100,scalez:100,rotationx:0,rotationy:0,rotationz:0}),d=Object(c.a)(s,2),m=d[0],j=d[1],h=o.a.useState({buultintype:"",builtinname:"",builtinnew:!1,positionx:0,positiony:0,positionz:0,scalex:1,scaley:1,scalez:1,rotationx:0,rotationy:0,rotationz:0}),x=Object(c.a)(h,2),O=x[0],w=x[1],z=o.a.useState({file:"",fileadd:!1}),v=Object(c.a)(z,2),C=v[0],k=v[1],I=o.a.useState({showAdd:!1,showSettings:!1,showEdit:!1,showImport:!1,showLibrary:!1}),B=Object(c.a)(I,2),D=B[0],P=B[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)("div",{className:"Navigation",children:[Object(a.jsx)(b.a,{size:"small",color:D.showSettings?"primary":"default",onClick:function(){P({showImport:!1,showEdit:!1,showAdd:!1,showLibrary:!1,showSettings:!D.showSettings})},children:Object(a.jsx)(g.a,{"aria-label":"setting"})}),Object(a.jsx)(b.a,{size:"small","aria-label":"add",color:D.showAdd?"primary":"default",onClick:function(){P({showImport:!1,showEdit:!1,showLibrary:!1,showAdd:!D.showAdd,showSettings:!1})},children:Object(a.jsx)(u.a,{})}),Object(a.jsx)(b.a,{size:"small","aria-label":"add",color:D.showLibrary?"primary":"default",onClick:function(){P({showEdit:!1,showAdd:!1,showLibrary:!D.showLibrary,showSettings:!1,showImport:!1})},children:Object(a.jsx)(y.a,{})}),Object(a.jsx)(b.a,{size:"small","aria-label":"import",color:D.showImport?"primary":"default",onClick:function(){P({showEdit:!1,showAdd:!1,showLibrary:!1,showSettings:!1,showImport:!D.showImport})},children:Object(a.jsx)(je.a,{icon:pe.a,size:"lg"})}),Object(a.jsx)(b.a,{size:"small","aria-label":"edit",children:Object(a.jsx)(p.a,{})}),Object(a.jsx)(b.a,{size:"small","aria-label":"delete",children:Object(a.jsx)(N.a,{})}),Object(a.jsx)(b.a,{size:"small","aria-label":"download",children:Object(a.jsx)(f.a,{})}),D.showSettings&&Object(a.jsx)("div",{className:"SettingTable",children:Object(a.jsx)(L,{onChange:function(e){e.planesize!=n.planesize||e.gridsize!=n.gridsize||e.lightR!=n.lightR||e.lightB!=n.lightB||e.lightG!=n.lightG?(console.log("a grid change happened"),r(Object(l.a)(Object(l.a)({},e),{},{gridChange:!0}))):console.log("no change needed")}})}),D.showAdd&&Object(a.jsx)("div",{className:"AddTable",children:Object(a.jsx)(ue,{onChange:function(e){e.primetype==m.primetype&&e.primename==m.primename&&e.positionx==m.positionx&&e.positiony==m.positiony&&e.positionz==m.positionz&&e.scalex==m.scalex&&e.scalez==m.scalez&&e.scaley==m.scaley&&e.rotationx==m.rotationx&&e.rotationy==m.rotationy&&e.rotationz==m.rotationz||j(Object(l.a)(Object(l.a)({},e),{},{addnew:!0}))}})}),D.showImport&&Object(a.jsx)("div",{className:"UploadTable",children:Object(a.jsx)(H,{onChange:function(e){e.file.name!=C.file.name?(console.log("a file add happened"),k(Object(l.a)(Object(l.a)({},e),{},{fileadd:!0}))):console.log("no need to change")}})}),D.showLibrary&&Object(a.jsx)("div",{className:"LibraryTable",children:Object(a.jsx)(Z,{onChange:function(e){e.builtintype==O.builtintype&&e.builtinname==O.builtinname&&e.positionx==O.positionx&&e.positiony==O.positiony&&e.positionz==O.positionz&&e.scalex==O.scalex&&e.scalez==O.scalez&&e.scaley==O.scaley&&e.rotationx==O.rotationx&&e.rotationy==O.rotationy&&e.rotationz==O.rotationz||w(Object(l.a)(Object(l.a)({},e),{},{builtinnew:!0}))}})})]})}),Object(a.jsx)("div",{className:"BottomView",children:Object(a.jsx)(oe,{settingData:n,setSettings:r,addData:m,setAdd:j,fileControl:C,setFileControl:k,libraryData:O,setBuiltin:w})}),Object(a.jsx)("div",{className:"Scaleline",children:Object(a.jsx)(le,{children:n})})]})}var xe=i(249),fe=i(317),Oe=i(315);function ye(e){e.preventDefault(),window.open("https://www.muyangguo.xyz/","_blank")}function we(){return Object(a.jsxs)(fe.a,{"aria-label":"breadcrumb",children:[Object(a.jsx)(xe.a,{color:"textPrimary",children:"Prototype V1"}),Object(a.jsx)(Oe.a,{color:"inherit",href:"https://www.muyangguo.xyz",onClick:ye,children:"@Muyang Guo"})]})}i(271);var Ne=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(ge,{}),Object(a.jsx)("div",{className:"Footer",children:Object(a.jsx)(we,{})})]})};s.a.render(Object(a.jsx)(Ne,{}),document.getElementById("root"))}},[[272,1,2]]]);
//# sourceMappingURL=main.7516b3d1.chunk.js.map